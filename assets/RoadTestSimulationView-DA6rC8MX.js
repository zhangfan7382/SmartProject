import{d as w,r as l,c as n,a as t,h as _,t as u,F as m,b,w as f,v as V,n as B,j as F,l as I,o as i,_ as N}from"./index-DTcpmoGO.js";const R={class:"road-test-simulation"},j={class:"content"},D={class:"row"},M={class:"col col-12"},O={class:"box-card"},P={class:"card-header"},U={class:"action-btns"},z=["disabled"],E=["disabled"],L=["disabled"],$={class:"card-content"},q={class:"form"},A={class:"form-item"},G={key:0,style:{"margin-top":"4px",color:"#409eff"}},H={class:"form-item"},J={class:"topic-list"},K=["value"],Q={class:"form-item"},W={style:{"margin-left":"10px"}},X={class:"form-item"},Y={class:"progress-bar"},Z={class:"output-record-box"},tt={class:"output-list"},st={class:"output-topic"},et={class:"output-value"},lt=["disabled"],at={key:0,style:{color:"#67c23a","margin-left":"10px"}},ot=w({__name:"RoadTestSimulationView",setup(nt){const p=l(1),c=l(null),g=l(["/camera/front","/lidar/points","/can_bus","/imu/data","/gps/fix","/radar/objects","/perception/obstacles"]),r=l(["/camera/front","/lidar/points"]),a=l(!1),d=l(0);l([{type:"",timestamp:"",tag:"",desc:""}]);const v=l(!1);function h(o){const s=o.target;s.files&&s.files.length>0&&(c.value=s.files[0])}function y(){a.value=!0,d.value=0,v.value=!1;const o=setInterval(()=>{if(!a.value){clearInterval(o);return}d.value<100?d.value+=2:(a.value=!1,clearInterval(o))},300)}function x(){a.value=!1}function k(){a.value=!1,d.value=0}function C(o){return`示例输出：${o} 数据...`}function S(){v.value=!0,setTimeout(()=>{v.value=!1},1500)}return(o,s)=>(i(),n("div",R,[s[9]||(s[9]=t("h1",null,"路试回灌模块",-1)),t("div",j,[t("div",D,[t("div",M,[t("div",O,[t("div",P,[s[2]||(s[2]=t("span",null,"数据回放",-1)),t("div",U,[t("button",{class:"btn btn-primary btn-small",onClick:y,disabled:!c.value},"开始回放",8,z),t("button",{class:"btn btn-small",onClick:x,disabled:!a.value},"暂停",8,E),t("button",{class:"btn btn-small",onClick:k,disabled:!a.value},"停止",8,L)])]),t("div",$,[t("form",q,[t("div",A,[s[3]||(s[3]=t("label",null,"数据文件（bag包）",-1)),t("input",{type:"file",onChange:h},null,32),c.value?(i(),n("span",G,u(c.value.name),1)):_("",!0)]),t("div",H,[s[4]||(s[4]=t("label",null,"选择回放topic",-1)),t("div",J,[(i(!0),n(m,null,b(g.value,e=>(i(),n("label",{key:e,class:"topic-checkbox"},[f(t("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=T=>r.value=T),value:e},null,8,K),[[I,r.value]]),F(" "+u(e),1)]))),128))])]),t("div",Q,[s[5]||(s[5]=t("label",null,"回放速度",-1)),f(t("input",{type:"range",min:"1",max:"10","onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),style:{width:"100px","vertical-align":"middle"}},null,512),[[V,p.value]]),t("span",W,u(p.value)+"x",1)]),t("div",X,[s[6]||(s[6]=t("label",null,"回放进度",-1)),t("div",Y,[t("div",{class:"progress-fill",style:B({width:d.value+"%"})},null,4)]),t("span",null,u(d.value)+"%",1)])]),s[8]||(s[8]=t("div",{class:"alert-info",style:{"margin-top":"18px"}},[t("span",{class:"alert-icon"},"🚧"),t("span",null,"支持按topic回灌仿真，关键事件可手动添加、打tag与分割")],-1)),t("div",Z,[s[7]||(s[7]=t("label",null,"输出记录（所选topic实时输出）",-1)),t("div",tt,[(i(!0),n(m,null,b(r.value,e=>(i(),n("div",{key:e,class:"output-item"},[t("span",st,u(e),1),t("span",et,u(C(e)),1)]))),128))]),t("button",{class:"btn btn-small",onClick:S,disabled:!r.value.length},"保存输出记录",8,lt),v.value?(i(),n("span",at,"已保存")):_("",!0)])])])])])])]))}}),dt=N(ot,[["__scopeId","data-v-5a686716"]]);export{dt as default};
