import{d as M,r as n,c as l,a as t,h as r,k as T,j as d,w as c,v as P,t as o,F as p,b,i as q,l as E,o as a,_ as N}from"./index-LzKsG0dd.js";const D={class:"roadtest-eval"},F={class:"section card"},L={key:0,class:"status-tip"},$={class:"section card"},O={class:"module-list"},z=["onUpdate:modelValue"],G={key:0,class:"status-tip"},H={class:"section card"},K={class:"bag-info"},Q=["disabled"],W={key:0,class:"status-tip"},X={key:1,class:"log-box"},Y={class:"section card"},Z=["value"],ee=["disabled"],te={key:0,class:"event-list"},se={class:"section card"},le={key:0},ae=["onClick"],ne={key:1,class:"empty-tip"},oe={class:"section card"},ie=["disabled"],ue={key:0,class:"status-tip"},de=M({__name:"RoadTestReplayEvaluationView",setup(re){const u=n({project:"",issue:"",version:"",bag:null}),y=n(""),h=()=>{y.value="提测信息已提交，等待处理...（此处可对接Jira API）"},I=k=>{const e=k.target.files;e&&e.length&&(u.value.bag=e[0],_.value=e[0].name)},J=n([{key:"perception",name:"感知（Perception）",selected:!0},{key:"roadmodel",name:"道路建模（Road Model）",selected:!0},{key:"prediction",name:"预测（Prediction）",selected:!0},{key:"planning",name:"规划（Planning）",selected:!0},{key:"control",name:"控制（Control）",selected:!0},{key:"obsl",name:"OBSL",selected:!1},{key:"activesafety",name:"主动安全（Active Safety）",selected:!1}]),g=n(""),x=()=>{g.value="已生成待测软件包（此处可对接CI/CD或构建API）"},_=n(""),f=n(""),C=n([]),A=()=>{f.value="仿真进行中...（此处可对接仿真API）",C.value=["仿真启动","模块加载","数据回灌","仿真完成"]},R=n(["信号A","信号B","信号C"]),V=n(""),v=n([]),j=()=>{v.value=[1680001234,1680002345,1680003456]},B=k=>{alert(`导出事件时间戳${k}的bag包（±30s）——此处可对接后端分割API`)},S=n(!1),m=n(""),U=()=>{S.value=!0,m.value="报告已生成，可推送至Jira（此处可对接报告生成API）"},w=()=>{m.value="报告已推送至Jira issue comment（此处可对接Jira API）"};return(k,e)=>(a(),l("div",D,[e[16]||(e[16]=t("h1",null,"路试回灌仿真与事件评估",-1)),t("div",F,[e[9]||(e[9]=t("h2",null,"1. 提测管理（Jira集成）",-1)),t("form",{class:"jira-form",onSubmit:T(h,["prevent"])},[t("label",null,[e[4]||(e[4]=d("Jira项目：")),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value.project=s),required:""},null,512),[[P,u.value.project]])]),t("label",null,[e[5]||(e[5]=d("Issue编号：")),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>u.value.issue=s),required:""},null,512),[[P,u.value.issue]])]),t("label",null,[e[6]||(e[6]=d("版本号：")),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.value.version=s),required:""},null,512),[[P,u.value.version]])]),t("label",null,[e[7]||(e[7]=d("上传bag包：")),t("input",{type:"file",onChange:I,required:""},null,32)]),e[8]||(e[8]=t("button",{class:"btn",type:"submit"},"一键提测",-1))],32),y.value?(a(),l("div",L,o(y.value),1)):r("",!0)]),t("div",$,[e[10]||(e[10]=t("h2",null,"2. 待测模块配置与软件包生成",-1)),t("div",O,[(a(!0),l(p,null,b(J.value,s=>(a(),l("label",{key:s.key,class:"module-item"},[c(t("input",{type:"checkbox","onUpdate:modelValue":i=>s.selected=i},null,8,z),[[E,s.selected]]),d(" "+o(s.name),1)]))),128))]),t("button",{class:"btn",onClick:x},"生成待测软件包"),g.value?(a(),l("div",G,o(g.value),1)):r("",!0)]),t("div",H,[e[11]||(e[11]=t("h2",null,"3. 路试bag包回灌仿真",-1)),t("div",K,"当前bag包："+o(_.value||"未选择"),1),t("button",{class:"btn",disabled:!_.value,onClick:A},"启动仿真",8,Q),f.value?(a(),l("div",W,o(f.value),1)):r("",!0),C.value.length?(a(),l("div",X,[(a(!0),l(p,null,b(C.value,(s,i)=>(a(),l("div",{key:i,class:"log-line"},o(s),1))),128))])):r("",!0)]),t("div",Y,[e[13]||(e[13]=t("h2",null,"4. 信号监测与事件提取",-1)),t("label",null,[e[12]||(e[12]=d("选择关键信号： ")),c(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>V.value=s),class:"select"},[(a(!0),l(p,null,b(R.value,s=>(a(),l("option",{key:s,value:s},o(s),9,Z))),128))],512),[[q,V.value]])]),t("button",{class:"btn",disabled:!V.value,onClick:j},"提取事件",8,ee),v.value.length?(a(),l("div",te,[(a(!0),l(p,null,b(v.value,(s,i)=>(a(),l("div",{key:i,class:"event-item"}," 事件"+o(i+1)+"：时间戳 "+o(s),1))),128))])):r("",!0)]),t("div",se,[e[14]||(e[14]=t("h2",null,"5. 事件分割与bag导出",-1)),v.value.length?(a(),l("div",le,[(a(!0),l(p,null,b(v.value,(s,i)=>(a(),l("div",{key:i,class:"split-item"},[d(" 事件"+o(i+1)+"（"+o(s)+"） ",1),t("button",{class:"btn btn-small",onClick:ve=>B(s)},"导出事件bag（±30s）",8,ae)]))),128))])):(a(),l("div",ne,"暂无事件，请先提取"))]),t("div",oe,[e[15]||(e[15]=t("h2",null,"6. 报告生成与推送",-1)),t("button",{class:"btn",onClick:U},"生成评估报告"),t("button",{class:"btn",disabled:!S.value,onClick:w},"推送至Jira",8,ie),m.value?(a(),l("div",ue,o(m.value),1)):r("",!0)])]))}}),pe=N(de,[["__scopeId","data-v-5e01b231"]]);export{pe as default};
