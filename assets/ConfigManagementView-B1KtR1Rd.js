import{d as A,r as v,e as z,c as a,a as e,h as V,F as r,b as p,w as c,q as M,i as C,v as w,t as d,p as G,m as j,l as I,o as l,_ as R}from"./index-LzKsG0dd.js";const $={class:"config-management"},q={class:"row"},H={class:"col col-16"},W={class:"box-card"},K={class:"card-content"},Q={class:"config-tabs"},X={class:"tab-nav"},Y=["onClick"],Z={key:0,class:"tab-content"},ee={class:"form-section"},se={class:"form-item"},te={class:"radio-group"},ae={class:"radio"},le={class:"radio"},ne={class:"form-item"},de={class:"form-item"},oe={class:"form-item"},ie={key:1,class:"tab-content"},ve={class:"form-section"},ce={class:"module-selection"},ue={class:"checkbox-wrapper"},re=["id","onUpdate:modelValue"],pe=["for"],me={class:"module-desc"},ye={key:2,class:"tab-content"},be={class:"form-section"},_e={class:"form-item"},ke={class:"dependency-graph"},fe={class:"module-name"},ge={class:"dependency-select"},he=["onUpdate:modelValue"],Ve=["value"],Ce={class:"form-item"},we={class:"env-vars"},Ue=["onUpdate:modelValue"],xe=["onUpdate:modelValue"],Me=["onClick"],Se={class:"form-item"},Le={class:"file-upload"},Te={class:"upload-btn"},Ee={key:0,class:"file-name"},De={key:1,class:"file-name"},Be={key:0,class:"box-card"},Ne={class:"card-header"},Oe={class:"card-content"},Pe={key:0,class:"json-preview"},Fe={key:1,class:"table-preview"},Je={class:"config-table"},Ae={class:"col col-8"},ze={class:"box-card"},Ge={class:"card-content"},je={key:0,class:"package-info"},Ie={class:"package-details"},Re={class:"detail-item"},$e={class:"detail-value"},qe={class:"detail-item"},He={class:"detail-value"},We={class:"detail-item"},Ke={class:"detail-value"},Qe={key:1,class:"empty-package"},Xe=A({__name:"ConfigManagementView",setup(Ye){const m=v("base"),y=v("full"),_=v(!1),k=v(""),o=v({environment:"dev",version:"v1.0.0",logLevel:"info",buildType:"full"}),u=v([{key:"perception",name:"Perception 感知",selected:!0,description:"识别和分类周围环境的对象和特征",dependency:[]},{key:"road_model",name:"Road Model 道路模型",selected:!0,description:"构建道路环境的高精度模型",dependency:["perception"]},{key:"prediction",name:"Prediction 预测",selected:!0,description:"预测其他道路使用者的行为和意图",dependency:["perception","road_model"]},{key:"planning",name:"Planning 规划",selected:!0,description:"生成安全、平稳的行驶轨迹",dependency:["prediction","road_model"]},{key:"control",name:"Control 控制",selected:!0,description:"执行规划轨迹的车辆控制",dependency:["planning"]},{key:"obsl",name:"OBSL 系统",selected:!1,description:"车载行为语义学习系统",dependency:["perception"]},{key:"active_safety",name:"Active Safety 主动安全",selected:!1,description:"紧急情况的安全干预系统",dependency:["perception","prediction"]}]),f=v([{key:"DEBUG_MODE",value:"true"},{key:"LOG_PATH",value:"/var/log/sadp"}]),g=v(""),U=v(""),x=v(""),S=[{key:"base",name:"基础配置"},{key:"modules",name:"模块选择"},{key:"advanced",name:"高级配置"}],b=z(()=>{if(!o.value)return null;const i=u.value.filter(s=>s.selected).map(s=>({key:s.key,name:s.name,dependencies:s.dependency}));return{buildType:y.value,environment:o.value.environment,version:o.value.version,logLevel:o.value.logLevel,modules:i,environmentVariables:f.value.reduce((s,t)=>(s[t.key]=t.value,s),{}),customConfigFile:k.value||null}}),L=()=>{u.value.forEach(i=>i.selected=!0)},T=()=>{u.value.forEach(i=>i.selected=!1)},E=()=>{f.value.push({key:"",value:""})},D=i=>{f.value.splice(i,1)},B=i=>{const s=i.target;s.files&&s.files.length>0&&(k.value=s.files[0].name)},N=()=>{_.value=!_.value},O=()=>{console.log("保存配置",b.value)},P=()=>{console.log("生成软件包",b.value),setTimeout(()=>{g.value="https://example.com/download/sadp-package-v1.0.0.zip",U.value=new Date().toLocaleString(),x.value="256.4 MB"},1500)},F=()=>{window.open(g.value,"_blank")},J=()=>{navigator.clipboard.writeText(g.value),alert("下载链接已复制到剪贴板")};return(i,s)=>(l(),a("div",$,[s[32]||(s[32]=e("h1",null,"配置管理模块",-1)),s[33]||(s[33]=e("div",{class:"alert-info"},[e("span",{class:"alert-icon"},"ℹ️"),e("span",null,"自动对待测模块进行配置修改，并生成可运行的软件包")],-1)),e("div",q,[e("div",H,[e("div",W,[e("div",{class:"card-header"},[s[5]||(s[5]=e("span",null,"模块选择与配置",-1)),e("div",{class:"action-btns"},[e("button",{class:"btn btn-success",onClick:O},"保存配置"),e("button",{class:"btn btn-primary",onClick:P},"生成软件包")])]),e("div",K,[e("div",Q,[e("div",X,[(l(),a(r,null,p(S,t=>e("div",{key:t.key,class:j(["tab-item",{active:m.value===t.key}]),onClick:n=>m.value=t.key},d(t.name),11,Y)),64))]),m.value==="base"?(l(),a("div",Z,[e("div",ee,[s[14]||(s[14]=e("h3",null,"基础配置",-1)),e("div",se,[s[8]||(s[8]=e("label",null,"构建类型",-1)),e("div",te,[e("label",ae,[c(e("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=t=>y.value=t),value:"full"},null,512),[[M,y.value]]),s[6]||(s[6]=e("span",null,"整包构建",-1))]),e("label",le,[c(e("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=t=>y.value=t),value:"module"},null,512),[[M,y.value]]),s[7]||(s[7]=e("span",null,"模块级构建",-1))])])]),e("div",ne,[s[10]||(s[10]=e("label",null,"构建环境",-1)),c(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.environment=t)},s[9]||(s[9]=[e("option",{value:"dev"},"开发环境",-1),e("option",{value:"test"},"测试环境",-1),e("option",{value:"prod"},"生产环境",-1)]),512),[[C,o.value.environment]])]),e("div",de,[s[11]||(s[11]=e("label",null,"版本标识",-1)),c(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.value.version=t),placeholder:"例如: v1.2.3"},null,512),[[w,o.value.version]])]),e("div",oe,[s[13]||(s[13]=e("label",null,"日志级别",-1)),c(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>o.value.logLevel=t)},s[12]||(s[12]=[e("option",{value:"debug"},"Debug",-1),e("option",{value:"info"},"Info",-1),e("option",{value:"warn"},"Warning",-1),e("option",{value:"error"},"Error",-1)]),512),[[C,o.value.logLevel]])])])])):V("",!0),m.value==="modules"?(l(),a("div",ie,[e("div",ve,[s[15]||(s[15]=e("h3",null,"模块选择",-1)),s[16]||(s[16]=e("p",{class:"section-desc"},"选择需要构建的模块，构建类型为模块级时生效",-1)),e("div",ce,[(l(!0),a(r,null,p(u.value,t=>(l(),a("div",{key:t.key,class:"module-item"},[e("div",ue,[c(e("input",{type:"checkbox",id:t.key,"onUpdate:modelValue":n=>t.selected=n},null,8,re),[[I,t.selected]]),e("label",{for:t.key},d(t.name),9,pe)]),e("span",me,d(t.description),1)]))),128))]),e("div",{class:"form-item"},[e("button",{class:"btn",onClick:L},"全选"),e("button",{class:"btn",onClick:T},"取消全选")])])])):V("",!0),m.value==="advanced"?(l(),a("div",ye,[e("div",be,[s[21]||(s[21]=e("h3",null,"高级配置",-1)),s[22]||(s[22]=e("p",{class:"section-desc"},"配置模块间依赖关系和自定义参数",-1)),e("div",_e,[s[17]||(s[17]=e("label",null,"模块依赖关系",-1)),e("div",ke,[(l(!0),a(r,null,p(u.value.filter(t=>t.selected),t=>(l(),a("div",{key:t.key,class:"dependency-module"},[e("div",fe,d(t.name),1),e("div",ge,[c(e("select",{"onUpdate:modelValue":n=>t.dependency=n,multiple:""},[(l(!0),a(r,null,p(u.value.filter(n=>n.key!==t.key),n=>(l(),a("option",{key:n.key,value:n.key},d(n.name),9,Ve))),128))],8,he),[[C,t.dependency]])])]))),128))])]),e("div",Ce,[s[18]||(s[18]=e("label",null,"环境变量设置",-1)),e("div",we,[(l(!0),a(r,null,p(f.value,(t,n)=>(l(),a("div",{key:n,class:"env-var-item"},[c(e("input",{"onUpdate:modelValue":h=>t.key=h,placeholder:"变量名"},null,8,Ue),[[w,t.key]]),c(e("input",{"onUpdate:modelValue":h=>t.value=h,placeholder:"变量值"},null,8,xe),[[w,t.value]]),e("button",{class:"btn btn-small btn-danger",onClick:h=>D(n)},"删除",8,Me)]))),128)),e("button",{class:"btn btn-small",onClick:E},"添加环境变量")])]),e("div",Se,[s[20]||(s[20]=e("label",null,"自定义配置文件",-1)),e("div",Le,[e("label",Te,[e("input",{type:"file",onChange:B,hidden:""},null,32),s[19]||(s[19]=e("span",null,"选择文件",-1))]),k.value?(l(),a("span",Ee,d(k.value),1)):(l(),a("span",De,"未选择文件"))])])])])):V("",!0)])])]),b.value?(l(),a("div",Be,[e("div",Ne,[s[23]||(s[23]=e("span",null,"配置预览",-1)),e("button",{class:"btn btn-small",onClick:N},d(_.value?"表格视图":"JSON视图"),1)]),e("div",Oe,[_.value?(l(),a("div",Pe,[e("pre",null,d(JSON.stringify(b.value,null,2)),1)])):(l(),a("div",Fe,[e("table",Je,[s[24]||(s[24]=e("thead",null,[e("tr",null,[e("th",null,"配置项"),e("th",null,"值")])],-1)),e("tbody",null,[(l(!0),a(r,null,p(b.value,(t,n)=>(l(),a("tr",{key:n},[e("td",null,d(n),1),e("td",null,d(typeof t=="object"?JSON.stringify(t):t),1)]))),128))])])]))])])):V("",!0)]),e("div",Ae,[e("div",ze,[s[30]||(s[30]=e("div",{class:"card-header"},[e("span",null,"软件包")],-1)),e("div",Ge,[g.value?(l(),a("div",je,[s[28]||(s[28]=e("div",{class:"package-status success"},[e("span",{class:"status-icon"},"✓"),e("span",null,"软件包生成成功")],-1)),e("div",Ie,[e("div",Re,[s[25]||(s[25]=e("span",{class:"detail-label"},"版本:",-1)),e("span",$e,d(o.value.version),1)]),e("div",qe,[s[26]||(s[26]=e("span",{class:"detail-label"},"构建时间:",-1)),e("span",He,d(U.value),1)]),e("div",We,[s[27]||(s[27]=e("span",{class:"detail-label"},"大小:",-1)),e("span",Ke,d(x.value),1)])]),e("div",{class:"package-actions"},[e("button",{class:"btn btn-primary",onClick:F},"下载软件包"),e("button",{class:"btn",onClick:J},"复制下载链接")])])):(l(),a("div",Qe,s[29]||(s[29]=[e("div",{class:"empty-icon"},"📦",-1),e("div",{class:"empty-text"},"尚未生成软件包",-1),e("div",{class:"empty-desc"},'配置完成后点击"生成软件包"按钮',-1)])))])]),s[31]||(s[31]=G('<div class="box-card" style="margin-top:20px;" data-v-6d30370a><div class="card-header" data-v-6d30370a><span data-v-6d30370a>操作流程</span></div><div class="card-content" data-v-6d30370a><div class="process-steps" data-v-6d30370a><div class="process-step" data-v-6d30370a><div class="step-number" data-v-6d30370a>1</div><div class="step-content" data-v-6d30370a><div class="step-title" data-v-6d30370a>选择模块和配置</div><div class="step-desc" data-v-6d30370a>选择需要构建的模块并设置相关配置参数</div></div></div><div class="process-step" data-v-6d30370a><div class="step-number" data-v-6d30370a>2</div><div class="step-content" data-v-6d30370a><div class="step-title" data-v-6d30370a>设置模块依赖</div><div class="step-desc" data-v-6d30370a>配置模块间依赖关系和环境变量</div></div></div><div class="process-step" data-v-6d30370a><div class="step-number" data-v-6d30370a>3</div><div class="step-content" data-v-6d30370a><div class="step-title" data-v-6d30370a>生成软件包</div><div class="step-desc" data-v-6d30370a>系统自动编译并生成可运行的软件包</div></div></div><div class="process-step" data-v-6d30370a><div class="step-number" data-v-6d30370a>4</div><div class="step-content" data-v-6d30370a><div class="step-title" data-v-6d30370a>下载与部署</div><div class="step-desc" data-v-6d30370a>下载软件包并部署到目标环境</div></div></div></div><div class="feature-list" data-v-6d30370a><div class="feature-item" data-v-6d30370a><span class="feature-icon" data-v-6d30370a>✓</span><span data-v-6d30370a>支持整包或模块级编译与部署</span></div><div class="feature-item" data-v-6d30370a><span class="feature-icon" data-v-6d30370a>✓</span><span data-v-6d30370a>模块配置项动态化管理</span></div><div class="feature-item" data-v-6d30370a><span class="feature-icon" data-v-6d30370a>✓</span><span data-v-6d30370a>自动处理模块间依赖关系</span></div></div></div></div>',1))])])]))}}),es=R(Xe,[["__scopeId","data-v-6d30370a"]]);export{es as default};
